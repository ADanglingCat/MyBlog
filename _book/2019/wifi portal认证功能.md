# wifi portal认证功能_沈东升

## 介绍

所谓wifi portal认证，就是连接wifi成功后，有些wifi 需要去一个登录页面，登录后才能正常使用wifi。在现在一些商场，尤其是一些香港的商场，很多有这样的认证方式。

## 认证的时机

我选择在 wifi 连接成功后论证，包括 用户主动切换到wifi ，以及wifi 自动回连。

## 认证过程

在这些时机时，首先需要判断是否需要进行论证.网上有介绍：向一个特定[链接](http ://www.xx.com/genera_204) ，发送一个request请求,判断返回的response携带的HTTP状态码.如果不是204 ，就需要进行认证。判断方法一开始就遇到 unknownHostException ，导致判断无法继续。后来发现 是需要论证的wifi 没有链接外网，从而没有dns 服务器导致的，这种情况下也不需要论证。

当判断出某个wifi需要portal认证的时候，跳转到我们的认证界面。在浏览器下打开一个网页，会被自动重定向到wifi登陆网页。在登陆网页完成论证。当然，这个登陆网页，是wifi 路由器出的，不完全兼容电视操作，有些地方需要用鼠标操作。

